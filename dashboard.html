<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>통합 관제 대시보드 - 산림자원 AI 플랫폼</title>
    <!-- 공통 스타일시트 -->
    <link rel="stylesheet" href="css/style.css">
    <!-- 대시보드 페이지 전용 스타일시트 -->
    <link rel="stylesheet" href="css/dashboard.css">
    <!-- 공통 컴포넌트 스타일시트 (다음 단계에서 생성) -->
    <link rel="stylesheet" href="css/components.css">
    <!-- Font Awesome 아이콘 라이브러리 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- 헤더 -->
        <header class="header">
            <div class="logo">
                <h1>통합 관제 대시보드</h1>
            </div>
            <div class="user-profile">
                <span>박주무관 (admin)</span>
                <a href="index.html" class="logout-button">로그아웃</a>
            </div>
        </header>

        <!-- 메인 콘텐츠 -->
        <main class="main-content">
            <!-- 핵심 지표 (KPI) -->
            <section class="kpi-section">
                <div class="kpi-card">
                    <h3>총 수집량</h3>
                    <p>5,240 <span>톤</span></p>
                </div>
                <div class="kpi-card">
                    <h3>운행 차량</h3>
                    <p>27 <span>대</span></p>
                </div>
                <div class="kpi-card">
                    <h3>입고 현황</h3>
                    <p>3,780 <span>톤</span></p>
                </div>
            </section>

            <!-- 지도 및 관제 -->
            <section class="map-section">
                <div id="map" class="map-view">
                    <!-- 시연용 지도 배경 이미지 -->
                    <img src="https://placehold.co/800x600/A2B2A8/333333?text=GIS+Map+Background" alt="지도 배경" class="map-background">
                    
                    <!-- 시뮬레이션용 차량 및 경고 아이콘 (JS로 제어) -->
                    <div id="vehicle-icon" class="vehicle-icon" style="top: 40%; left: 55%;">
                        <i class="fa-solid fa-truck"></i>
                    </div>
                    <div id="alert-icon" class="alert-icon" style="top: 65%; left: 30%; display: none;">
                        <i class="fa-solid fa-triangle-exclamation"></i>
                    </div>
                </div>
            </section>

            <!-- 이상 징후 목록 -->
            <section class="alert-section">
                <h2><i class="fa-solid fa-bell"></i> 이상 징후 실시간 알림</h2>
                <ul class="alert-list">
                    <li class="alert-item" data-lat="65" data-lng="30">
                        <span class="alert-type warning">경로 이탈</span>
                        <span class="alert-info">차량 12가3456, 허가 경로 50m 이탈</span>
                        <span class="alert-time">방금 전</span>
                    </li>
                    <li class="alert-item" data-lat="30" data-lng="70">
                        <span class="alert-type critical">장기 체류</span>
                        <span class="alert-info">차량 89나0123, 허가 구역 외 30분 이상 체류</span>
                        <span class="alert-time">5분 전</span>
                    </li>
                    <li class="alert-item">
                        <span class="alert-type info">속도 위반</span>
                        <span class="alert-info">차량 45다6789, 임도 구간 과속 감지</span>
                        <span class="alert-time">12분 전</span>
                    </li>
                </ul>
            </section>
        </main>
    </div>

    <!-- AI 챗봇 (다음 단계에서 생성) -->
    <!-- 
  AI 챗봇 컴포넌트
  - 이 코드를 <body> 태그가 끝나기 직전에 추가합니다.
-->
    <div class="chatbot-container">
        <!-- 플로팅 버튼 -->
        <div id="chatbot-fab" class="chatbot-fab">
            <i class="fa-solid fa-robot"></i>
        </div>

        <!-- 채팅창 (초기에는 숨김) -->
        <div id="chat-window" class="chat-window">
            <!-- 헤더 -->
            <div class="chat-header">
                <h3>AI 비서</h3>
                <button id="close-chat-btn" class="close-btn"><i class="fa-solid fa-times"></i></button>
            </div>
            
            <!-- 메시지 표시 영역 -->
            <div id="chat-messages" class="chat-messages">
                <!-- 시연용 초기 메시지 -->
                <div class="message bot">
                    <div class="message-content">
                        안녕하세요! 무엇을 도와드릴까요? <br> (예: 오늘 정산액 알려줘)
                    </div>
                </div>
            </div>

            <!-- 사용자 입력 폼 -->
            <form id="chat-input-form" class="chat-input-form">
                <input type="text" id="chat-input" placeholder="메시지를 입력하세요..." autocomplete="off">
                <button type="submit"><i class="fa-solid fa-paper-plane"></i></button>
            </form>
        </div>
    </div>

    <!-- 대시보드 시뮬레이션 스크립트 (다음 단계에서 생성) -->
    <script src="js/dashboard.js"></script>
</body>
</html>
